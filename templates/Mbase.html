<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="theme-color" content="#9bbc0f"/>
  <meta charset="UTF-8" />
  <meta name="viewport" content= "width=device-width, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <title>{% block title %}{% endblock %}</title>
  <!-- <link rel="stylesheet" href="style.css" /> -->
</head>
<body>
  <div class="gameboy">
    <div class="screen">
      {% block content %}{% endblock %}
    </div>

    <div class="controls">
      <div class="actions">
        <button id="btn-home" class="btn" style="font-family: 'Courier New', Courier, monospace; background-color: #c0392b;">HOME</button> 
        <button id="btn-select" class="btn" style="font-family: 'Courier New', Courier, monospace; background-color: #1e1e1e;">SELECT</button>
      </div>
      <div class="dpad">
        <button id="btn-up" class="btn btn-small" >▲</button>
        <button id="btn-down" class="btn btn-small" >▼</button>
      </div>
    </div>
  </div>
<!-- <audio id="audio" src="../beep.mp3"></audio> -->
  <!-- <script src="app.js"></script> -->
</body>
</html>
<style>
  /* style.css */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  /* font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; */
  /* font-family: 'Courier New', Courier, monospace; */
  font-family: 'Press Start 2P', cursive;
  touch-action: manipulation;
}

body {
  background: #222;
  color: #306230;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden; 

}

.gameboy {
  display: flex;
  width: 80vw;
  max-width: 500px;
  min-width: 350px;
  min-height: 90dvh;
  max-height: 600px;
  background: #8b8b8b;
  border-radius: 24px;
  padding: 16px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.4);
  flex-direction: column;
}

.phased{
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.screen {
  display: flex;
  flex-direction: column;
  background: #9bbc0f;
  border-radius: 12px;
  padding: 20px 12px;
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.6);
  margin-bottom: 16px;
  flex-grow: 1;
  overflow-y: auto;
  overflow-x: hidden;

  /* z-index: -1; */
  /* background: repeating-linear-gradient(
        to bottom,
        rgba(155,155,15,1) 0px,
        rgba(155,155,15,1) 1px,
        transparent 2px,
        transparent 4px
      ); */
  
}




.title {
  font-size: 20px;
  margin-bottom: 8px;
  text-align: center;
  text-shadow: 0px 1px #40407a;

}

.menu {
  list-style: none;
  margin-bottom: 8px;
  /* margin-bottom: auto; */
  text-shadow: 0px 1px #274615;
  font-size: 14px;

}

.item {
  padding: 8px;
  border-radius: 6px;
  font-size: 16px;
}

.item.selected {
  background: rgba(0,0,0,0.25);
  color: #f5f5f5;
  color: #142231;
  font-weight: bolder;

}

.item.selected::before{
  content: '> ';
  /* content: '▶ '; */
  /* margin-left: -20px; */
}

.status {
  font-size: 12px;
  opacity: 0.8;
  font-family: 'Courier New', Courier, monospace;
  font-weight: bolder;
  position: relative;
  bottom: 10px;
  margin-top: auto;
  color: #142231;
}

.controls {
  display: flex;
  position: relative;
  bottom: 0px;
  justify-content: space-between;
  gap: 16px;
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  margin-top: auto;
}

.actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-family: 'Courier New', Courier, monospace;
  min-width: 100px;
}

.dpad {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-left: auto;
  /* margin-top: auto; */
}

.btn {
  border: none;
  border-radius: 999px;
  padding: 10px 16px;
  background: #666;
  color: #fff;
  font-weight: 600;
  font-size: 14px;
  box-shadow: 0 4px 0 #444;
  /* active: none; */
}

.btn-small {
  width: 60px;
}

.btn:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #444;
}




.vmenum{
  list-style-position: inside;
  font-size: 13px;
  text-shadow: 0px 1px #274615;
  line-height: 1.2;


}

.blogtext{
  text-shadow: 0px 1px #274615;
  padding: 5px 3px;
  font-size: 13px;
  line-height: 1.2;
  margin-top: 10px;
}
.blogtext a{
  text-decoration: none;
  color: #116e11;
  text-shadow: 0px 1px #274615;

}

</style>

<script>
  // app.js
const items = Array.from(document.querySelectorAll('.item'));
const statusEl = document.getElementById('status');
// const projects = Array.from(document.querySelectorAll('.project'));
// const statusEp = document.getElementById('status');

let currentIndex = 0;
// let currentindexp = 0;


function renderSelection() {
  items.forEach((el, i) => {
    if (items){
    el.classList.toggle('selected', i === currentIndex);
  }});
}

function moveSelection(delta) {
  if (items){
  currentIndex = (currentIndex + delta + items.length) % items.length;
  renderSelection();
  statusEl.textContent = `Selected: ${items[currentIndex].textContent}`;
}}

function onHome() {
  // currentIndex = 0;
  // renderSelection();
  // statusEl.textContent = 'Back to home';
  window.location.href = "{{ url_for('index') }}";

  
}



function onSelect() {
  const item = items[currentIndex].textContent;
  statusEl.textContent = `Selected "${item}"`;
  // console.log(item);
  if (items){  
    if (item === "About") {
        window.location.href = "{{ url_for('about') }}";
    } else if (item === "Education") {
        window.location.href = "{{ url_for('education') }}";
    } else if (item === "Projects") {
        window.location.href = "{{ url_for('projects') }}";
    } else if (item === "Contact") {
        window.location.href = "{{ url_for('contact') }}";
    } else if (item === "Home Lab Server") {
        window.location.href = "{{ url_for('project_detail', project_name='home_lab_server') }}";
    } else if (item === "3G/4G coverage Optimization") {
        window.location.href = "{{ url_for('project_detail', project_name='3g_4g_optimization') }}";
    } else if (item === "Green Guardian") {
        window.location.href = "{{ url_for('project_detail', project_name='green_guardian') }}";
    } else if (item === "MPLS Automation") {
        window.location.href = "{{ url_for('project_detail', project_name='mpls_automation') }}";
    } else if (item === "Chat App") {
        window.location.href = "{{ url_for('project_detail', project_name='chat_app') }}";
    } else if (item === "Portfolio") {
        window.location.href = "{{ url_for('project_detail', project_name='portfolio') }}";
    }
  }
}

// Haptic helper using Vibration API
function haptic() {
  if (navigator.vibrate) {
    navigator.vibrate(30); // short vibration; adjust as desired
  }
}

document.getElementById('btn-up').addEventListener('click', () => {
  moveSelection(-1);
  haptic();
});

document.getElementById('btn-down').addEventListener('click', () => {
  moveSelection(1);
  haptic();
});

document.getElementById('btn-home').addEventListener('click', () => {
  onHome();
  haptic();
});

document.getElementById('btn-select').addEventListener('click', () => {
  onSelect();
  haptic();
});

// Initial render
renderSelection();




// function pnS() {
//     var audio = document.getElementById('audioS');
//     audio.play();
// }
// function pnW() {
//     var audio = document.getElementById('audioW');
//     audio.play();
// }




</script>